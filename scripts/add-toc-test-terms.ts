/**
 * æ·»åŠ åŒ…å«å®Œæ•´ç›®å½•ç»“æ„çš„æµ‹è¯•è¯æ¡
 * è¿è¡Œæ–¹å¼: npx tsx scripts/add-toc-test-terms.ts
 */

import { createTerm } from "../lib/models/term"
import { query } from "../lib/db/connection"
import { closePool } from "../lib/db/connection"

async function addTocTestTerms() {
  try {
    console.log("ğŸŒ± å¼€å§‹æ·»åŠ åŒ…å«ç›®å½•çš„æµ‹è¯•è¯æ¡...\n")

    // è·å–ç”¨æˆ·ID
    const users = await query<{ id: number; email: string }>(
      "SELECT id, email FROM users LIMIT 1"
    )
    if (users.length === 0) {
      console.error("âŒ æœªæ‰¾åˆ°ç”¨æˆ·ï¼Œè¯·å…ˆè¿è¡Œ seed-database.ts")
      return
    }
    const authorId = users[0].id
    console.log(`âœ… ä½¿ç”¨ä½œè€…: ${users[0].email} (ID: ${authorId})`)

    // è·å–åˆ†ç±»
    const categories = await query<{ id: number; slug: string }>(
      "SELECT id, slug FROM categories"
    )
    const categoryMap: Record<string, number> = {}
    categories.forEach((cat) => {
      categoryMap[cat.slug] = cat.id
    })
    console.log(`âœ… è·å–åˆ° ${categories.length} ä¸ªåˆ†ç±»\n`)

    // æµ‹è¯•è¯æ¡æ•°æ®
    const testTerms = [
      {
        title: "Transformer æ¶æ„è¯¦è§£",
        categorySlug: "ai",
        summary:
          "Transformer æ˜¯æ·±åº¦å­¦ä¹ é¢†åŸŸæœ€é‡è¦çš„æ¶æ„ä¹‹ä¸€ï¼Œç”± Google åœ¨ 2017 å¹´æå‡ºã€‚å®ƒå½»åº•æ”¹å˜äº†è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œæˆä¸ºç°ä»£å¤§è¯­è¨€æ¨¡å‹çš„åŸºç¡€ã€‚",
        content: `## æ¦‚è¿°

Transformer æ˜¯ç”± Google åœ¨ 2017 å¹´è®ºæ–‡ã€ŠAttention Is All You Needã€‹ä¸­æå‡ºçš„ç¥ç»ç½‘ç»œæ¶æ„ã€‚å®ƒå®Œå…¨åŸºäºæ³¨æ„åŠ›æœºåˆ¶ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿçš„å¾ªç¯å’Œå·ç§¯ç»“æ„ï¼Œåœ¨æœºå™¨ç¿»è¯‘ä»»åŠ¡ä¸Šå–å¾—äº†çªç ´æ€§æˆæœã€‚

## æ ¸å¿ƒç»„ä»¶

### è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf-Attentionï¼‰

è‡ªæ³¨æ„åŠ›æœºåˆ¶æ˜¯ Transformer çš„æ ¸å¿ƒï¼Œå®ƒå…è®¸æ¨¡å‹åœ¨å¤„ç†åºåˆ—æ—¶ç›´æ¥å…³æ³¨åˆ°åºåˆ—ä¸­çš„ä»»æ„ä½ç½®ã€‚

#### è®¡ç®—è¿‡ç¨‹

1. **æŸ¥è¯¢ï¼ˆQueryï¼‰ã€é”®ï¼ˆKeyï¼‰ã€å€¼ï¼ˆValueï¼‰**
   - æ¯ä¸ªè¾“å…¥è¯å…ƒé€šè¿‡çº¿æ€§å˜æ¢ç”Ÿæˆ Qã€Kã€V ä¸‰ä¸ªå‘é‡
   - Q å’Œ K ç”¨äºè®¡ç®—æ³¨æ„åŠ›åˆ†æ•°
   - V ç”¨äºåŠ æƒæ±‚å’Œ

2. **æ³¨æ„åŠ›åˆ†æ•°è®¡ç®—**
   - ä½¿ç”¨ç‚¹ç§¯è®¡ç®— Q å’Œ K çš„ç›¸ä¼¼åº¦
   - é€šè¿‡ç¼©æ”¾å› å­é˜²æ­¢æ¢¯åº¦æ¶ˆå¤±
   - åº”ç”¨ softmax å½’ä¸€åŒ–

3. **åŠ æƒæ±‚å’Œ**
   - ä½¿ç”¨æ³¨æ„åŠ›åˆ†æ•°å¯¹ V è¿›è¡ŒåŠ æƒæ±‚å’Œ
   - å¾—åˆ°æœ€ç»ˆçš„è¾“å‡ºè¡¨ç¤º

#### å¤šå¤´æ³¨æ„åŠ›

å¤šå¤´æ³¨æ„åŠ›å°†è‡ªæ³¨æ„åŠ›æœºåˆ¶å¹¶è¡Œæ‰§è¡Œå¤šæ¬¡ï¼Œæ¯æ¬¡ä½¿ç”¨ä¸åŒçš„å‚æ•°ï¼Œæœ€åå°†ç»“æœæ‹¼æ¥ã€‚

### ä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰

ç”±äº Transformer æ²¡æœ‰å¾ªç¯ç»“æ„ï¼Œéœ€è¦æ˜¾å¼åœ°æ³¨å…¥ä½ç½®ä¿¡æ¯ã€‚

#### æ­£å¼¦ä½ç½®ç¼–ç 

ä½¿ç”¨ä¸åŒé¢‘ç‡çš„æ­£å¼¦å’Œä½™å¼¦å‡½æ•°ä¸ºæ¯ä¸ªä½ç½®ç”Ÿæˆå”¯ä¸€çš„ç¼–ç å‘é‡ã€‚

#### å­¦ä¹ å¼ä½ç½®ç¼–ç 

è®©æ¨¡å‹è‡ªåŠ¨å­¦ä¹ ä½ç½®è¡¨ç¤ºï¼Œé€šå¸¸æ•ˆæœæ›´å¥½ã€‚

### å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆFeed-Forward Networkï¼‰

æ¯ä¸ª Transformer å±‚åŒ…å«ä¸€ä¸ªä¸¤å±‚çš„å‰é¦ˆç½‘ç»œï¼Œé€šå¸¸ä½¿ç”¨ ReLU æ¿€æ´»å‡½æ•°ã€‚

## æ¶æ„å˜ä½“

### Encoder-Decoder æ¶æ„

åŸå§‹çš„ Transformer é‡‡ç”¨ç¼–ç å™¨-è§£ç å™¨ç»“æ„ï¼Œé€‚ç”¨äºåºåˆ—åˆ°åºåˆ—ä»»åŠ¡ã€‚

### ä»…ç¼–ç å™¨æ¶æ„

BERT ç­‰æ¨¡å‹åªä½¿ç”¨ç¼–ç å™¨éƒ¨åˆ†ï¼Œé€‚ç”¨äºç†è§£ä»»åŠ¡ã€‚

### ä»…è§£ç å™¨æ¶æ„

GPT ç³»åˆ—æ¨¡å‹åªä½¿ç”¨è§£ç å™¨éƒ¨åˆ†ï¼Œé€‚ç”¨äºç”Ÿæˆä»»åŠ¡ã€‚

## åº”ç”¨é¢†åŸŸ

### è‡ªç„¶è¯­è¨€å¤„ç†

- æœºå™¨ç¿»è¯‘
- æ–‡æœ¬æ‘˜è¦
- é—®ç­”ç³»ç»Ÿ
- æƒ…æ„Ÿåˆ†æ

### è®¡ç®—æœºè§†è§‰

- Vision Transformer (ViT)
- å›¾åƒåˆ†ç±»
- ç›®æ ‡æ£€æµ‹

### å¤šæ¨¡æ€åº”ç”¨

- CLIP
- DALL-E
- è§†è§‰-è¯­è¨€ç†è§£

## ä¼˜åŠ¿ä¸å±€é™

### ä¼˜åŠ¿

1. **å¹¶è¡Œè®¡ç®—**ï¼šå¯ä»¥å¹¶è¡Œå¤„ç†æ•´ä¸ªåºåˆ—
2. **é•¿è·ç¦»ä¾èµ–**ï¼šèƒ½å¤Ÿç›´æ¥å»ºæ¨¡ä»»æ„è·ç¦»çš„ä¾èµ–å…³ç³»
3. **å¯è§£é‡Šæ€§**ï¼šæ³¨æ„åŠ›æƒé‡æä¾›äº†ä¸€å®šçš„å¯è§£é‡Šæ€§

### å±€é™

1. **è®¡ç®—å¤æ‚åº¦**ï¼šè‡ªæ³¨æ„åŠ›çš„å¤æ‚åº¦æ˜¯åºåˆ—é•¿åº¦çš„å¹³æ–¹
2. **å†…å­˜æ¶ˆè€—**ï¼šéœ€è¦å­˜å‚¨å¤§é‡çš„æ³¨æ„åŠ›çŸ©é˜µ
3. **ä½ç½®ä¿¡æ¯**ï¼šéœ€è¦é¢å¤–çš„ä½ç½®ç¼–ç æœºåˆ¶

## æœªæ¥å‘å±•æ–¹å‘

### æ•ˆç‡ä¼˜åŒ–

- ç¨€ç–æ³¨æ„åŠ›æœºåˆ¶
- çº¿æ€§æ³¨æ„åŠ›
- åˆ†å—è®¡ç®—

### æ¶æ„åˆ›æ–°

- æ··åˆæ¶æ„
- åŠ¨æ€æ¶æ„
- ç¥ç»æ¶æ„æœç´¢

### åº”ç”¨æ‹“å±•

- ç§‘å­¦è®¡ç®—
- ä»£ç ç”Ÿæˆ
- å¤šæ¨¡æ€èåˆ`,
        tags: ["Transformer", "æ³¨æ„åŠ›æœºåˆ¶", "æ·±åº¦å­¦ä¹ "],
      },
      {
        title: "é‡å­è®¡ç®—åŸºç¡€",
        categorySlug: "quantum",
        summary:
          "é‡å­è®¡ç®—åˆ©ç”¨é‡å­åŠ›å­¦çš„å åŠ å’Œçº ç¼ ç­‰ç‰¹æ€§è¿›è¡Œè®¡ç®—ï¼Œæœ‰æœ›åœ¨ç‰¹å®šé—®é¢˜ä¸Šå®ç°æŒ‡æ•°çº§åŠ é€Ÿã€‚æœ¬æ–‡ä»‹ç»é‡å­è®¡ç®—çš„åŸºæœ¬åŸç†ã€ç®—æ³•å’Œåº”ç”¨ã€‚",
        content: `## ä»€ä¹ˆæ˜¯é‡å­è®¡ç®—

é‡å­è®¡ç®—æ˜¯ä¸€ç§åˆ©ç”¨é‡å­åŠ›å­¦ç°è±¡ï¼ˆå¦‚å åŠ å’Œçº ç¼ ï¼‰è¿›è¡Œä¿¡æ¯å¤„ç†çš„è®¡ç®—èŒƒå¼ã€‚ä¸ä¼ ç»Ÿè®¡ç®—æœºä½¿ç”¨æ¯”ç‰¹ï¼ˆ0 æˆ– 1ï¼‰ä¸åŒï¼Œé‡å­è®¡ç®—æœºä½¿ç”¨é‡å­æ¯”ç‰¹ï¼ˆqubitï¼‰ï¼Œå¯ä»¥åŒæ—¶å¤„äº 0 å’Œ 1 çš„å åŠ æ€ã€‚

## åŸºæœ¬åŸç†

### é‡å­æ¯”ç‰¹ï¼ˆQubitï¼‰

é‡å­æ¯”ç‰¹æ˜¯é‡å­è®¡ç®—çš„åŸºæœ¬å•ä½ï¼Œä¸ç»å…¸æ¯”ç‰¹æœ‰æœ¬è´¨åŒºåˆ«ã€‚

#### å åŠ æ€

ä¸€ä¸ªé‡å­æ¯”ç‰¹å¯ä»¥åŒæ—¶å¤„äº |0âŸ© å’Œ |1âŸ© çš„å åŠ æ€ï¼Œè¡¨ç¤ºä¸ºï¼š

|ÏˆâŸ© = Î±|0âŸ© + Î²|1âŸ©

å…¶ä¸­ Î± å’Œ Î² æ˜¯å¤æ•°ï¼Œæ»¡è¶³ |Î±|Â² + |Î²|Â² = 1ã€‚

#### æµ‹é‡

å½“æµ‹é‡é‡å­æ¯”ç‰¹æ—¶ï¼Œå®ƒä¼šåç¼©åˆ° |0âŸ© æˆ– |1âŸ©ï¼Œæ¦‚ç‡åˆ†åˆ«ä¸º |Î±|Â² å’Œ |Î²|Â²ã€‚

### é‡å­çº ç¼ 

ä¸¤ä¸ªæˆ–å¤šä¸ªé‡å­æ¯”ç‰¹å¯ä»¥å½¢æˆçº ç¼ æ€ï¼Œå®ƒä»¬çš„çŠ¶æ€ç›¸äº’å…³è”ï¼Œå³ä½¿ç›¸è·å¾ˆè¿œã€‚

#### è´å°”æ€

æœ€ç®€å•çš„çº ç¼ æ€æ˜¯è´å°”æ€ï¼Œä¾‹å¦‚ï¼š

|Î¦âºâŸ© = (|00âŸ© + |11âŸ©) / âˆš2

### é‡å­é—¨

é‡å­é—¨æ˜¯å¯¹é‡å­æ¯”ç‰¹è¿›è¡Œæ“ä½œçš„åŸºæœ¬å•å…ƒã€‚

#### å•é‡å­æ¯”ç‰¹é—¨

- **Pauli-X é—¨**ï¼šé‡å­ç‰ˆæœ¬çš„ NOT é—¨
- **Pauli-Y é—¨**ï¼šåœ¨ Y è½´æ—‹è½¬
- **Pauli-Z é—¨**ï¼šç›¸ä½ç¿»è½¬
- **Hadamard é—¨**ï¼šåˆ›å»ºå åŠ æ€

#### å¤šé‡å­æ¯”ç‰¹é—¨

- **CNOT é—¨**ï¼šå—æ§éé—¨ï¼Œå®ç°çº ç¼ 
- **Toffoli é—¨**ï¼šä¸‰é‡å­æ¯”ç‰¹é—¨

## é‡å­ç®—æ³•

### Shor ç®—æ³•

Shor ç®—æ³•å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…åˆ†è§£å¤§æ•´æ•°ï¼Œå¯¹ RSA åŠ å¯†æ„æˆå¨èƒã€‚

#### ç®—æ³•æ­¥éª¤

1. å°†æ•´æ•°åˆ†è§£é—®é¢˜è½¬åŒ–ä¸ºå‘¨æœŸæŸ¥æ‰¾é—®é¢˜
2. ä½¿ç”¨é‡å­å‚…é‡Œå¶å˜æ¢æ‰¾åˆ°å‘¨æœŸ
3. é€šè¿‡å‘¨æœŸè®¡ç®—å› å­

### Grover ç®—æ³•

Grover ç®—æ³•å¯ä»¥åœ¨ O(âˆšN) æ—¶é—´å†…æœç´¢æœªæ’åºæ•°æ®åº“ï¼Œç›¸æ¯”ç»å…¸ç®—æ³•çš„ O(N) æœ‰äºŒæ¬¡åŠ é€Ÿã€‚

#### ç®—æ³•åŸç†

é€šè¿‡æŒ¯å¹…æ”¾å¤§æŠ€æœ¯ï¼Œé€æ­¥å¢åŠ ç›®æ ‡çŠ¶æ€çš„æŒ¯å¹…ï¼Œæœ€ç»ˆä»¥é«˜æ¦‚ç‡æµ‹é‡åˆ°ç›®æ ‡ã€‚

### é‡å­æœºå™¨å­¦ä¹ 

é‡å­æœºå™¨å­¦ä¹ ç»“åˆé‡å­è®¡ç®—å’Œæœºå™¨å­¦ä¹ ï¼Œæ¢ç´¢é‡å­ä¼˜åŠ¿ã€‚

#### å˜åˆ†é‡å­ç®—æ³•

ä½¿ç”¨å‚æ•°åŒ–é‡å­ç”µè·¯ï¼Œé€šè¿‡ç»å…¸ä¼˜åŒ–å™¨è®­ç»ƒã€‚

#### é‡å­ç¥ç»ç½‘ç»œ

åœ¨é‡å­ç¡¬ä»¶ä¸Šå®ç°ç¥ç»ç½‘ç»œã€‚

## é‡å­ç¡¬ä»¶

### è¶…å¯¼é‡å­æ¯”ç‰¹

ä½¿ç”¨è¶…å¯¼ç”µè·¯å®ç°é‡å­æ¯”ç‰¹ï¼Œæ˜¯ç›®å‰æœ€æˆç†Ÿçš„æŠ€æœ¯è·¯çº¿ã€‚

#### ä¼˜åŠ¿

- å¯æ‰©å±•æ€§å¥½
- é—¨æ“ä½œé€Ÿåº¦å¿«
- æ˜“äºé›†æˆ

#### æŒ‘æˆ˜

- éœ€è¦æä½æ¸©ç¯å¢ƒ
- ç›¸å¹²æ—¶é—´æœ‰é™
- é”™è¯¯ç‡è¾ƒé«˜

### ç¦»å­é˜±é‡å­æ¯”ç‰¹

ä½¿ç”¨è¢«æ•è·çš„ç¦»å­ä½œä¸ºé‡å­æ¯”ç‰¹ã€‚

#### ä¼˜åŠ¿

- ç›¸å¹²æ—¶é—´é•¿
- é—¨ä¿çœŸåº¦é«˜
- å…¨è¿æ¥æ€§å¥½

#### æŒ‘æˆ˜

- æ‰©å±•æ€§å—é™
- æ“ä½œé€Ÿåº¦è¾ƒæ…¢

### å…‰é‡å­è®¡ç®—

ä½¿ç”¨å…‰å­ä½œä¸ºé‡å­æ¯”ç‰¹è½½ä½“ã€‚

#### ä¼˜åŠ¿

- ç›¸å¹²æ—¶é—´é•¿
- æ˜“äºä¼ è¾“
- ç¯å¢ƒå¹²æ‰°å°

#### æŒ‘æˆ˜

- å…‰å­é—´ç›¸äº’ä½œç”¨å¼±
- å•å…‰å­æ£€æµ‹å›°éš¾

## åº”ç”¨å‰æ™¯

### å¯†ç å­¦

- ç ´è§£ç°æœ‰åŠ å¯†ç®—æ³•
- é‡å­å¯†é’¥åˆ†å‘
- åé‡å­å¯†ç å­¦

### ä¼˜åŒ–é—®é¢˜

- ç»„åˆä¼˜åŒ–
- é‡‘èå»ºæ¨¡
- ç‰©æµè§„åˆ’

### é‡å­æ¨¡æ‹Ÿ

- ææ–™è®¾è®¡
- è¯ç‰©å‘ç°
- åŒ–å­¦ååº”æ¨¡æ‹Ÿ

### äººå·¥æ™ºèƒ½

- é‡å­æœºå™¨å­¦ä¹ 
- é‡å­ç¥ç»ç½‘ç»œ
- é‡å­å¢å¼ºå­¦ä¹ 

## æŒ‘æˆ˜ä¸å±•æœ›

### æŠ€æœ¯æŒ‘æˆ˜

1. **é‡å­çº é”™**ï¼šéœ€è¦å¤§é‡ç‰©ç†é‡å­æ¯”ç‰¹å®ç°é€»è¾‘é‡å­æ¯”ç‰¹
2. **ç›¸å¹²æ—¶é—´**ï¼šé‡å­æ€å®¹æ˜“é€€ç›¸å¹²
3. **é”™è¯¯ç‡**ï¼šé—¨æ“ä½œå’Œæµ‹é‡å­˜åœ¨è¯¯å·®
4. **å¯æ‰©å±•æ€§**ï¼šå¦‚ä½•æ‰©å±•åˆ°æ›´å¤šé‡å­æ¯”ç‰¹

### å‘å±•å‰æ™¯

éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œé‡å­è®¡ç®—æœ‰æœ›åœ¨ç‰¹å®šé¢†åŸŸå®ç°çªç ´ï¼Œä½†è·ç¦»é€šç”¨é‡å­è®¡ç®—ä»æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚`,
        tags: ["é‡å­è®¡ç®—", "é‡å­ç®—æ³•", "é‡å­æ¯”ç‰¹"],
      },
      {
        title: "åŒºå—é“¾æŠ€æœ¯åŸç†ä¸åº”ç”¨",
        categorySlug: "fintech",
        summary:
          "åŒºå—é“¾æ˜¯ä¸€ç§åˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼Œé€šè¿‡å¯†ç å­¦å’Œå…±è¯†æœºåˆ¶ç¡®ä¿æ•°æ®ä¸å¯ç¯¡æ”¹ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»åŒºå—é“¾çš„å·¥ä½œåŸç†ã€å…±è¯†ç®—æ³•å’Œå®é™…åº”ç”¨åœºæ™¯ã€‚",
        content: `## åŒºå—é“¾æ¦‚è¿°

åŒºå—é“¾æ˜¯ä¸€ç§åˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼Œæœ€æ—©ç”±ä¸­æœ¬èªåœ¨æ¯”ç‰¹å¸ç™½çš®ä¹¦ä¸­æå‡ºã€‚å®ƒé€šè¿‡å¯†ç å­¦ã€å…±è¯†æœºåˆ¶å’Œåˆ†å¸ƒå¼ç½‘ç»œï¼Œå®ç°äº†å»ä¸­å¿ƒåŒ–çš„æ•°æ®å­˜å‚¨å’ŒéªŒè¯ã€‚

## æ ¸å¿ƒæŠ€æœ¯

### å¯†ç å­¦åŸºç¡€

#### å“ˆå¸Œå‡½æ•°

å“ˆå¸Œå‡½æ•°å°†ä»»æ„é•¿åº¦çš„è¾“å…¥æ˜ å°„ä¸ºå›ºå®šé•¿åº¦çš„è¾“å‡ºã€‚

**ç‰¹æ€§è¦æ±‚ï¼š**
- ç¡®å®šæ€§ï¼šç›¸åŒè¾“å…¥äº§ç”Ÿç›¸åŒè¾“å‡º
- å¿«é€Ÿè®¡ç®—ï¼šè®¡ç®—æ•ˆç‡é«˜
- é›ªå´©æ•ˆåº”ï¼šè¾“å…¥å¾®å°å˜åŒ–å¯¼è‡´è¾“å‡ºå·¨å¤§å˜åŒ–
- æŠ—ç¢°æ’ï¼šéš¾ä»¥æ‰¾åˆ°ä¸¤ä¸ªä¸åŒè¾“å…¥äº§ç”Ÿç›¸åŒè¾“å‡º

#### æ•°å­—ç­¾å

æ•°å­—ç­¾åç”¨äºéªŒè¯äº¤æ˜“çš„çœŸå®æ€§å’Œå®Œæ•´æ€§ã€‚

**ç­¾åè¿‡ç¨‹ï¼š**
1. ä½¿ç”¨ç§é’¥å¯¹æ¶ˆæ¯è¿›è¡Œç­¾å
2. å°†ç­¾åå’Œæ¶ˆæ¯ä¸€èµ·å‘é€
3. æ¥æ”¶æ–¹ä½¿ç”¨å…¬é’¥éªŒè¯ç­¾å

### åŒºå—ç»“æ„

æ¯ä¸ªåŒºå—åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š

#### åŒºå—å¤´

- **ç‰ˆæœ¬å·**ï¼šåè®®ç‰ˆæœ¬
- **å‰ä¸€åŒºå—å“ˆå¸Œ**ï¼šé“¾æ¥åˆ°å‰ä¸€ä¸ªåŒºå—
- **Merkle æ ¹**ï¼šæ‰€æœ‰äº¤æ˜“çš„å“ˆå¸Œæ ‘æ ¹
- **æ—¶é—´æˆ³**ï¼šåŒºå—åˆ›å»ºæ—¶é—´
- **éš¾åº¦ç›®æ ‡**ï¼šæŒ–çŸ¿éš¾åº¦
- **éšæœºæ•°**ï¼šç”¨äºå·¥ä½œé‡è¯æ˜

#### äº¤æ˜“åˆ—è¡¨

åŒ…å«è¯¥åŒºå—ä¸­çš„æ‰€æœ‰äº¤æ˜“è®°å½•ã€‚

### Merkle æ ‘

Merkle æ ‘æ˜¯ä¸€ç§äºŒå‰æ ‘ç»“æ„ï¼Œç”¨äºé«˜æ•ˆéªŒè¯äº¤æ˜“ã€‚

#### æ„å»ºè¿‡ç¨‹

1. å°†æ‰€æœ‰äº¤æ˜“ä½œä¸ºå¶å­èŠ‚ç‚¹
2. æ¯ä¸¤ä¸ªèŠ‚ç‚¹è®¡ç®—å“ˆå¸Œä½œä¸ºçˆ¶èŠ‚ç‚¹
3. é€’å½’å‘ä¸Šç›´åˆ°æ ¹èŠ‚ç‚¹

#### ä¼˜åŠ¿

- å¿«é€ŸéªŒè¯äº¤æ˜“æ˜¯å¦å­˜åœ¨
- åªéœ€ä¼ è¾“å°‘é‡æ•°æ®å³å¯éªŒè¯
- æ”¯æŒè½»èŠ‚ç‚¹

## å…±è¯†æœºåˆ¶

### å·¥ä½œé‡è¯æ˜ï¼ˆPoWï¼‰

PoW æ˜¯æœ€æ—©çš„å…±è¯†æœºåˆ¶ï¼Œç”±æ¯”ç‰¹å¸é‡‡ç”¨ã€‚

#### å·¥ä½œåŸç†

1. çŸ¿å·¥æ”¶é›†äº¤æ˜“å¹¶æ„å»ºåŒºå—
2. è®¡ç®—åŒºå—å“ˆå¸Œï¼Œå¯»æ‰¾æ»¡è¶³éš¾åº¦è¦æ±‚çš„éšæœºæ•°
3. æ‰¾åˆ°åå¹¿æ’­åŒºå—
4. å…¶ä»–èŠ‚ç‚¹éªŒè¯å¹¶æ¥å—åŒºå—

#### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹ï¼š**
- å®‰å…¨æ€§é«˜
- å»ä¸­å¿ƒåŒ–ç¨‹åº¦é«˜
- ç»è¿‡å®è·µéªŒè¯

**ç¼ºç‚¹ï¼š**
- èƒ½è€—å·¨å¤§
- å¤„ç†é€Ÿåº¦æ…¢
- éœ€è¦ä¸“ä¸šè®¾å¤‡

### æƒç›Šè¯æ˜ï¼ˆPoSï¼‰

PoS æ ¹æ®æŒå¸é‡å’ŒæŒå¸æ—¶é—´é€‰æ‹©éªŒè¯è€…ã€‚

#### å·¥ä½œåŸç†

1. éªŒè¯è€…éœ€è¦é”å®šä¸€å®šæ•°é‡çš„ä»£å¸
2. æ ¹æ®æƒç›Šå¤§å°éšæœºé€‰æ‹©éªŒè¯è€…
3. é€‰ä¸­çš„éªŒè¯è€…åˆ›å»ºå’ŒéªŒè¯åŒºå—
4. è·å¾—åŒºå—å¥–åŠ±å’Œäº¤æ˜“è´¹ç”¨

#### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹ï¼š**
- èƒ½è€—ä½
- å¤„ç†é€Ÿåº¦å¿«
- æ›´ç¯ä¿

**ç¼ºç‚¹ï¼š**
- å¯èƒ½å½¢æˆå¯¡å¤´å„æ–­
- å®‰å…¨æ€§ç›¸å¯¹è¾ƒä½

### å…¶ä»–å…±è¯†æœºåˆ¶

#### å§”æ‰˜æƒç›Šè¯æ˜ï¼ˆDPoSï¼‰

æŒå¸è€…æŠ•ç¥¨é€‰ä¸¾ä»£è¡¨èŠ‚ç‚¹ï¼Œç”±ä»£è¡¨èŠ‚ç‚¹è´Ÿè´£å‡ºå—ã€‚

#### å®ç”¨æ‹œå åº­å®¹é”™ï¼ˆPBFTï¼‰

é€‚ç”¨äºè”ç›Ÿé“¾ï¼Œé€šè¿‡æŠ•ç¥¨è¾¾æˆå…±è¯†ã€‚

#### æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰

ä¸ä½¿ç”¨åŒºå—ç»“æ„ï¼Œäº¤æ˜“ç›´æ¥é“¾æ¥å½¢æˆ DAGã€‚

## æ™ºèƒ½åˆçº¦

### æ¦‚å¿µ

æ™ºèƒ½åˆçº¦æ˜¯è¿è¡Œåœ¨åŒºå—é“¾ä¸Šçš„è‡ªåŠ¨æ‰§è¡Œç¨‹åºï¼Œå½“é¢„è®¾æ¡ä»¶æ»¡è¶³æ—¶è‡ªåŠ¨æ‰§è¡Œã€‚

### ç‰¹ç‚¹

- **è‡ªåŠ¨æ‰§è¡Œ**ï¼šæ— éœ€äººå·¥å¹²é¢„
- **ä¸å¯ç¯¡æ”¹**ï¼šä¸€æ—¦éƒ¨ç½²æ— æ³•ä¿®æ”¹
- **é€æ˜å…¬å¼€**ï¼šä»£ç å’Œæ‰§è¡Œè¿‡ç¨‹å¯æŸ¥
- **å»ä¸­å¿ƒåŒ–**ï¼šåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œ

### åº”ç”¨åœºæ™¯

#### å»ä¸­å¿ƒåŒ–é‡‘èï¼ˆDeFiï¼‰

- å€Ÿè´·åè®®
- å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€
- æµåŠ¨æ€§æŒ–çŸ¿
- è¡ç”Ÿå“äº¤æ˜“

#### éåŒè´¨åŒ–ä»£å¸ï¼ˆNFTï¼‰

- æ•°å­—è‰ºæœ¯å“
- æ¸¸æˆé“å…·
- èº«ä»½è®¤è¯
- æ”¶è—å“

#### å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰

- ç¤¾åŒºæ²»ç†
- æŠ•ç¥¨å†³ç­–
- èµ„é‡‘ç®¡ç†

## åº”ç”¨é¢†åŸŸ

### é‡‘è

- è·¨å¢ƒæ”¯ä»˜
- ä¾›åº”é“¾é‡‘è
- æ•°å­—èµ„äº§
- ä¿é™©

### ä¾›åº”é“¾

- äº§å“æº¯æº
- ç‰©æµè¿½è¸ª
- é˜²ä¼ªéªŒè¯

### èº«ä»½è®¤è¯

- æ•°å­—èº«ä»½
- å­¦å†è®¤è¯
- åŒ»ç–—è®°å½•

### ç‰ˆæƒä¿æŠ¤

- å†…å®¹ç¡®æƒ
- ç‰ˆæƒäº¤æ˜“
- æ”¶ç›Šåˆ†é…

## æŒ‘æˆ˜ä¸å‘å±•

### æŠ€æœ¯æŒ‘æˆ˜

1. **å¯æ‰©å±•æ€§**ï¼šäº¤æ˜“å¤„ç†é€Ÿåº¦æœ‰é™
2. **äº’æ“ä½œæ€§**ï¼šä¸åŒé“¾ä¹‹é—´éš¾ä»¥äº’é€š
3. **éšç§ä¿æŠ¤**ï¼šå…¬å¼€é€æ˜ä¸éšç§çš„å¹³è¡¡
4. **èƒ½è€—é—®é¢˜**ï¼šPoW æœºåˆ¶èƒ½è€—å·¨å¤§

### å‘å±•è¶‹åŠ¿

- è·¨é“¾æŠ€æœ¯
- äºŒå±‚æ‰©å®¹æ–¹æ¡ˆ
- éšç§è®¡ç®—
- ç»¿è‰²å…±è¯†æœºåˆ¶

### ç›‘ç®¡ä¸åˆè§„

éšç€åŒºå—é“¾åº”ç”¨çš„å‘å±•ï¼Œå„å›½éƒ½åœ¨åˆ¶å®šç›¸åº”çš„ç›‘ç®¡æ”¿ç­–ï¼Œå¹³è¡¡åˆ›æ–°ä¸é£é™©ã€‚`,
        tags: ["åŒºå—é“¾", "åŠ å¯†è´§å¸", "å»ä¸­å¿ƒåŒ–"],
      },
      {
        title: "CRISPR åŸºå› ç¼–è¾‘æŠ€æœ¯",
        categorySlug: "biotech",
        summary:
          "CRISPR-Cas9 æ˜¯é©å‘½æ€§çš„åŸºå› ç¼–è¾‘å·¥å…·ï¼Œèƒ½å¤Ÿç²¾ç¡®ä¿®æ”¹ DNA åºåˆ—ã€‚æœ¬æ–‡ä»‹ç» CRISPR çš„å·¥ä½œåŸç†ã€åº”ç”¨é¢†åŸŸå’Œä¼¦ç†è€ƒé‡ã€‚",
        content: `## CRISPR æŠ€æœ¯æ¦‚è¿°

CRISPRï¼ˆClustered Regularly Interspaced Short Palindromic Repeatsï¼‰æ˜¯ç»†èŒå’Œå¤èŒä¸­çš„ä¸€ç§é€‚åº”æ€§å…ç–«ç³»ç»Ÿã€‚ç§‘å­¦å®¶åˆ©ç”¨è¿™ä¸€æœºåˆ¶å¼€å‘å‡ºäº†å¼ºå¤§çš„åŸºå› ç¼–è¾‘å·¥å…· CRISPR-Cas9ã€‚

## å‘ç°å†å²

### æ—©æœŸå‘ç°

1987 å¹´ï¼Œæ—¥æœ¬ç§‘å­¦å®¶åœ¨å¤§è‚ æ†èŒä¸­é¦–æ¬¡å‘ç°äº† CRISPR åºåˆ—ï¼Œä½†å½“æ—¶åŠŸèƒ½æœªçŸ¥ã€‚

### åŠŸèƒ½æ­ç¤º

2005 å¹´ï¼Œç§‘å­¦å®¶å‘ç° CRISPR åºåˆ—ä¸ç—…æ¯’ DNA åºåˆ—ç›¸ä¼¼ï¼Œæ¨æµ‹å…¶å¯èƒ½å‚ä¸å…ç–«é˜²å¾¡ã€‚

### æœºåˆ¶é˜æ˜

2012 å¹´ï¼ŒJennifer Doudna å’Œ Emmanuelle Charpentier é˜æ˜äº† CRISPR-Cas9 çš„å·¥ä½œåŸç†ï¼Œä¸ºåŸºå› ç¼–è¾‘å¥ å®šäº†åŸºç¡€ã€‚

### åº”ç”¨çªç ´

2013 å¹´ï¼Œå¤šä¸ªç ”ç©¶ç»„è¯æ˜ CRISPR-Cas9 å¯ä»¥åœ¨çœŸæ ¸ç»†èƒä¸­è¿›è¡ŒåŸºå› ç¼–è¾‘ã€‚

## å·¥ä½œåŸç†

### CRISPR ç³»ç»Ÿç»„æˆ

#### Cas9 è›‹ç™½

Cas9 æ˜¯ä¸€ç§ DNA åˆ‡å‰²é…¶ï¼Œèƒ½å¤Ÿåœ¨ç‰¹å®šä½ç½®åˆ‡å‰² DNA åŒé“¾ã€‚

**åŠŸèƒ½åŸŸï¼š**
- **HNH ç»“æ„åŸŸ**ï¼šåˆ‡å‰²ç›®æ ‡é“¾
- **RuvC ç»“æ„åŸŸ**ï¼šåˆ‡å‰²éç›®æ ‡é“¾
- **PAM è¯†åˆ«åŸŸ**ï¼šè¯†åˆ« PAM åºåˆ—

#### gRNAï¼ˆå¼•å¯¼ RNAï¼‰

gRNA ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š
- **crRNA**ï¼šä¸ç›®æ ‡ DNA åºåˆ—äº’è¡¥
- **tracrRNA**ï¼šä¸ Cas9 è›‹ç™½ç»“åˆ

ç°åœ¨é€šå¸¸ä½¿ç”¨åˆæˆçš„ sgRNAï¼ˆå•é“¾å¼•å¯¼ RNAï¼‰æ›¿ä»£ã€‚

#### PAM åºåˆ—

PAMï¼ˆProtospacer Adjacent Motifï¼‰æ˜¯ Cas9 è¯†åˆ«ç›®æ ‡ä½ç‚¹å¿…éœ€çš„çŸ­åºåˆ—ï¼Œå¯¹äº SpCas9 é€šå¸¸æ˜¯ "NGG"ã€‚

### ç¼–è¾‘æµç¨‹

#### 1. è¯†åˆ«é˜¶æ®µ

gRNA ä¸ç›®æ ‡ DNA åºåˆ—é…å¯¹ï¼ŒCas9 æ£€æŸ¥ PAM åºåˆ—ã€‚

#### 2. åˆ‡å‰²é˜¶æ®µ

å¦‚æœåŒ¹é…æ­£ç¡®ï¼ŒCas9 åœ¨ç›®æ ‡ä½ç‚¹åˆ‡å‰² DNAï¼Œäº§ç”ŸåŒé“¾æ–­è£‚ï¼ˆDSBï¼‰ã€‚

#### 3. ä¿®å¤é˜¶æ®µ

ç»†èƒé€šè¿‡ä¸¤ç§æœºåˆ¶ä¿®å¤æ–­è£‚ï¼š

**éåŒæºæœ«ç«¯è¿æ¥ï¼ˆNHEJï¼‰ï¼š**
- ç›´æ¥è¿æ¥æ–­è£‚æœ«ç«¯
- å¯èƒ½äº§ç”Ÿæ’å…¥æˆ–ç¼ºå¤±çªå˜
- ç”¨äºåŸºå› æ•²é™¤

**åŒæºå®šå‘ä¿®å¤ï¼ˆHDRï¼‰ï¼š**
- ä½¿ç”¨åŒæºæ¨¡æ¿ä¿®å¤
- å¯ä»¥ç²¾ç¡®æ’å…¥æˆ–æ›¿æ¢åºåˆ—
- ç”¨äºåŸºå› æ•²å…¥

## æŠ€æœ¯å˜ä½“

### Cas9 å˜ä½“

#### SpCas9

æ¥è‡ªåŒ–è„“é“¾çƒèŒï¼Œæ˜¯æœ€å¸¸ç”¨çš„ Cas9 å˜ä½“ã€‚

#### SaCas9

æ¥è‡ªé‡‘é»„è‰²è‘¡è„çƒèŒï¼Œä½“ç§¯æ›´å°ï¼Œé€‚åˆç—…æ¯’è½½ä½“åŒ…è£…ã€‚

#### Cas12aï¼ˆCpf1ï¼‰

- è¯†åˆ« TTTN PAM åºåˆ—
- äº§ç”Ÿç²˜æ€§æœ«ç«¯
- ä¸éœ€è¦ tracrRNA

#### Cas13

ç”¨äº RNA ç¼–è¾‘ï¼Œä¸åˆ‡å‰² DNAã€‚

### ç¢±åŸºç¼–è¾‘

#### èƒå˜§å•¶ç¢±åŸºç¼–è¾‘å™¨ï¼ˆCBEï¼‰

å°† CÂ·G è½¬æ¢ä¸º TÂ·Aï¼Œæ— éœ€äº§ç”ŸåŒé“¾æ–­è£‚ã€‚

#### è…ºå˜Œå‘¤ç¢±åŸºç¼–è¾‘å™¨ï¼ˆABEï¼‰

å°† AÂ·T è½¬æ¢ä¸º GÂ·Cã€‚

### è¡¨è§‚é—ä¼ ç¼–è¾‘

ä¸æ”¹å˜ DNA åºåˆ—ï¼Œè€Œæ˜¯ä¿®æ”¹è¡¨è§‚é—ä¼ æ ‡è®°ã€‚

## åº”ç”¨é¢†åŸŸ

### åŸºç¡€ç ”ç©¶

#### åŸºå› åŠŸèƒ½ç ”ç©¶

- åŸºå› æ•²é™¤
- åŸºå› è¿‡è¡¨è¾¾
- åŠŸèƒ½éªŒè¯

#### ç–¾ç—…æ¨¡å‹æ„å»º

- ç»†èƒæ¨¡å‹
- åŠ¨ç‰©æ¨¡å‹
- ç±»å™¨å®˜æ¨¡å‹

### åŒ»ç–—åº”ç”¨

#### é—ä¼ ç—…æ²»ç–—

- å•åŸºå› é—ä¼ ç—…
- è¡€å‹ç—…
- é•°çŠ¶ç»†èƒè´«è¡€
- åœ°ä¸­æµ·è´«è¡€

#### ç™Œç—‡æ²»ç–—

- CAR-T ç»†èƒæ²»ç–—
- è‚¿ç˜¤åŸºå› ç¼–è¾‘
- å…ç–«ç»†èƒæ”¹é€ 

#### æ„ŸæŸ“æ€§ç–¾ç—…

- HIV æ²»ç–—
- æŠ—ç—…æ¯’ç­–ç•¥

### å†œä¸šåº”ç”¨

#### ä½œç‰©æ”¹è‰¯

- æé«˜äº§é‡
- å¢å¼ºæŠ—ç—…æ€§
- æ”¹å–„è¥å…»å“è´¨

#### åŠ¨ç‰©è‚²ç§

- æŠ—ç—…åŠ¨ç‰©
- æé«˜ç”Ÿäº§æ•ˆç‡

## ä¼¦ç†ä¸å®‰å…¨

### ä¼¦ç†è€ƒé‡

#### äººç±»èƒšèƒç¼–è¾‘

- æŠ€æœ¯å®‰å…¨æ€§
- ä¼¦ç†å¯æ¥å—æ€§
- ç¤¾ä¼šå½±å“

#### å¢å¼ºä¸æ²»ç–—

- æ²»ç–—ç–¾ç—… vs å¢å¼ºèƒ½åŠ›
- å…¬å¹³æ€§é—®é¢˜

### å®‰å…¨é£é™©

#### è„±é¶æ•ˆåº”

CRISPR å¯èƒ½åœ¨éç›®æ ‡ä½ç‚¹è¿›è¡Œåˆ‡å‰²ã€‚

**é™ä½ç­–ç•¥ï¼š**
- æ”¹è¿› gRNA è®¾è®¡
- ä½¿ç”¨é«˜ä¿çœŸ Cas9 å˜ä½“
- ä¼˜åŒ–é€’é€æ–¹æ³•

#### å…ç–«ååº”

Cas9 è›‹ç™½å¯èƒ½å¼•å‘å…ç–«ååº”ã€‚

#### é•¿æœŸå½±å“

åŸºå› ç¼–è¾‘çš„é•¿æœŸå½±å“å°šä¸å®Œå…¨æ¸…æ¥šã€‚

## ç›‘ç®¡ä¸æ”¿ç­–

### å›½é™…ç›‘ç®¡

ä¸åŒå›½å®¶å¯¹ CRISPR åº”ç”¨æœ‰ä¸åŒçš„ç›‘ç®¡æ”¿ç­–ã€‚

### ä¸´åºŠè¯•éªŒ

å¤šä¸ª CRISPR ç–—æ³•æ­£åœ¨è¿›è¡Œä¸´åºŠè¯•éªŒï¼Œéƒ¨åˆ†å·²è·å¾—æ‰¹å‡†ã€‚

## æœªæ¥å±•æœ›

### æŠ€æœ¯æ”¹è¿›

- æé«˜ç²¾ç¡®åº¦
- é™ä½è„±é¶ç‡
- æ‰©å¤§ç¼–è¾‘èŒƒå›´

### åº”ç”¨æ‹“å±•

- æ›´å¤šç–¾ç—…æ²»ç–—
- ç²¾å‡†åŒ»ç–—
- ä¸ªæ€§åŒ–æ²»ç–—

### æŒ‘æˆ˜

- é€’é€æ•ˆç‡
- å®‰å…¨æ€§éªŒè¯
- æˆæœ¬æ§åˆ¶`,
        tags: ["åŸºå› ç¼–è¾‘", "CRISPR", "ç”Ÿç‰©æŠ€æœ¯"],
      },
    ]

    // åˆ›å»ºè¯æ¡
    for (const term of testTerms) {
      const categoryId = categoryMap[term.categorySlug]
      if (!categoryId) {
        console.log(`âš ï¸  è·³è¿‡è¯æ¡ "${term.title}"ï¼šåˆ†ç±» "${term.categorySlug}" ä¸å­˜åœ¨`)
        continue
      }

      try {
        const termId = await createTerm({
          title: term.title,
          categoryId: categoryId,
          summary: term.summary,
          content: term.content,
          authorId: authorId,
          tags: term.tags,
        })

        console.log(`âœ… åˆ›å»ºè¯æ¡: "${term.title}" (ID: ${termId})`)
        console.log(`   - åˆ†ç±»: ${term.categorySlug}`)
        console.log(`   - æ ‡ç­¾: ${term.tags.join(", ")}`)
        console.log(`   - æ ‡é¢˜æ•°é‡: ${(term.content.match(/^##+ /gm) || []).length}`)
        console.log("")
      } catch (error: any) {
        console.error(`âŒ åˆ›å»ºè¯æ¡ "${term.title}" å¤±è´¥:`, error.message)
      }
    }

    console.log("ğŸ‰ æµ‹è¯•è¯æ¡æ·»åŠ å®Œæˆï¼")
  } catch (error: any) {
    console.error("âŒ é”™è¯¯:", error)
  } finally {
    await closePool()
  }
}

// è¿è¡Œè„šæœ¬
addTocTestTerms()
  .then(() => {
    console.log("\nâœ… è„šæœ¬æ‰§è¡Œå®Œæˆ")
    process.exit(0)
  })
  .catch((error) => {
    console.error("\nâŒ è„šæœ¬æ‰§è¡Œå¤±è´¥:", error)
    process.exit(1)
  })
